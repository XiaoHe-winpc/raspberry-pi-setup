# 树莓派终极优化脚本

## 🚀简介
这是一个专为树莓派（尤其是4B型号）设计的**自动化优化与验机脚本**。它可以帮助你快速完成系统配置、性能优化和中文环境部署，支持**全自动**与**交互式**两种运行模式。

## ⚡快速开始
在树莓派的终端中输入并执行以下命令：

```bash
sudo bash -c "$(curl -fsSL https://你的脚本直链地址/pi_setup.sh)"
```

## 📦 功能概览

### ✅ 硬件验机
- 显示设备型号、序列号、内存大小、CPU温度
- 检测电源状态，避免因电源不足导致的性能问题
- 验证树莓派真伪

### ⚙️ 系统优化
- **智能镜像源**：自动检测网络环境，切换至国内镜像源
- **存储扩展**：自动扩展文件系统，充分利用SD卡空间
- **TRIM支持**：延长SD卡使用寿命

### 🇨🇳 中文支持（智能判断）
- 全自动模式下，仅为中国地区用户安装中文支持
- 包含中文字体、拼音输入法、中文语言包
- 自动配置输入法自启动

### 🚀 性能调优（v3.5新增）
- **智能超频**：提供四级超频选项
- **温度监控**：实时监控CPU温度
- **硬件兼容性检查**：根据型号调整超频策略

---

## 🛠使用方法

1. 运行脚本

```bash
sudo bash v3.6.sh
```

2. 选择运行模式

· 全自动模式：输入 A，脚本将自动完成推荐优化（适合新手）
· 交互模式：直接按 Enter，每一步都会询问确认（适合高级用户）

3. 性能优化选项（交互模式下可选）

· 可选择是否启用超频及选择超频级别
· 可选择是否安装温度监控服务

---

📄 查看报告与日志

脚本执行完毕后，会生成以下文件：

| 文件类型 | 路径示例 | 说明 |
|----------|----------|------|
| **优化报告** | `~/pi_optimization_report_20250210_143022.txt` | 包含所有硬件信息与优化结果 |
| **运行日志** | `~/pi_optimizer_20250210_143022.log` | 详细运行过程记录 |

查看最新报告：

```bash
ls -lt ~/pi_optimization_report_*.txt
cat ~/pi_optimization_report_最新时间.txt
``` 

## 重要提醒

⚠️ **注意事项**

· 运行脚本需要稳定的网络连接
· 部分优化（如文件系统扩展、中文支持）需要重启才能完全生效
· 建议在新安装的系统上使用，或在重要数据备份后使用

##🔄 重启选项说明

· **全自动模式**：优化完成后自动重启（30秒倒计时，可按 Ctrl+C 取消）
· **交互模式**：提供立即重启、延迟重启或手动重启选项

重启后建议检查：

```bash
temp               # 查看当前温度
vcgencmd get_throttled  # 查看电源状态
systemctl status temp-monitor.service  # 查看温度监控服务
```

---

## 📜 版本历史

| 版本 | 发布日期 | 主要功能 | 状态 |
|------|----------|----------|------|
| **v3.6**| 2026-02 | 添加多源的功能| ✅ 很稳定 |
| **v3.5.2** | 2026-02 | 修复所有已知问题 | ✅ 很稳定 |
| **v3.5.1** | 2026-02 | 修复全自动模式下的功能完整性 | ✅ 较为稳定 |
| **v3.5** | 2026-02 | 智能超频、温度监控、硬件兼容性检查 | ✅ 较为稳定 |
| **v3.0** | 2026-02 | 超频功能与性能调优选项 | ✅ 较为稳定 |
| **v2.2** | 2026-02 | 自动模式逻辑修复，稳定性增强 | ✅ 较为稳定 |
| **v2.1** | 2026-02 | 日志系统，错误处理优化 | ✅ 较为稳定 |
| **v2.0** | 2026-02 | 基础功能完整实现 | ✅ 较为稳定 |
| **v1.x** | 2026-01 | 早期版本 | ⚠️ 已停用 |

> 注意：建议始终使用最新版本以获得最佳体验和安全性，我们不承担一切因运行旧版本产生的问题。

---

## 🆘 技术支持

如遇到问题，请：

1. 查看日志文件：`cat ~/pi_optimizer_*.log`
2. 检查报告文件中的错误信息
3. 确保网络连接正常
4. 确认系统为 Raspberry Pi OS

欢迎通过相应渠道反馈问题或建议，我们将持续优化脚本体验。

---

## 🎯 脚本特点总结

**· 智能适应**：自动判断网络环境与用户区域
**· 安全可靠**：关键操作前自动备份，支持一键恢复
**· 功能全面**：从验机到优化再到监控，覆盖使用全流程
**· 体验友好**：支持全自动与交互模式，适合不同用户群体

---

希望这个脚本能帮你省去大量配置时间，让树莓派发挥出最佳性能！如果觉得好用，欢迎分享给更多树莓派爱好者。

```

